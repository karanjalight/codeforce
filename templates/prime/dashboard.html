{% extends "base.html" %} 
{% load static %} 
{% block head_title %}kiarutara - Dashboard{% endblock %}
{% block content %}
<div class='flex lg:flex-row lg:h-screen  bg-slate-200 pb-10 flex-col gap-2 '>
    <div class=''>
        {% include 'components/navbar.html' %}
    </div>
    <div class='lg:px-20 lg:mt-0 lg:px-20 lg"mt-0 mt-10 w-full'>
        <div class=' '>
        <div class="md:flex justify-center  lg:my-4 lg:rounded-xl md:px-6 px-4">
     
            <div class="xl:w-2/6 lg:w-2/5 lg:w-80 ">
                {% if students.profile_pic %}
                <img class="w-full lg:h-[400px] h-72 rounded-xl  object-cover object-top" alt="users profile photo" src="{{ students.profile_pic.url }}" />
                {% else %}
                <div class="flex items-center justify-center bg-gradient-to-r from-blue-900 to-blue-700 w-full lg:h-[400px] h-72 rounded-xl  object-cover object-top"> 
                    <div class="uppercase text-2xl lg:text-6xl text-white font-bold"> 
                        {{ students.name|slice:":2" }}
                    </div>
                </div>

                {% endif %}
            
            {% if messages %}
                {% for message in messages %}
                
                <div id="alert-1" class="flex items-center lg:p-4 py-2 my-2 mb-4 text-purple-800 rounded-lg bg-purple-100 dark:bg-gray-800 dark:text-blue-400" role="alert">
                <svg class="flex-shrink-0 w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
                </svg>
                <span class="sr-only">Info</span>
                <div class="ms-3 text-sm font-medium">
                    {{ message }} 
                </div>
                    <button type="button" class="ms-auto -mx-1.5 -my-1.5 bg-purple-100 text-purple-500 rounded-lg focus:ring-2 focus:ring-blue-400 p-1.5 hover:bg-purple-200 inline-flex items-center justify-center h-8 w-8 dark:bg-purple-800 dark:text-purple-400 dark:hover:bg-purple-700" data-dismiss-target="#alert-1" aria-label="Close">
                    <span class="sr-only">Close</span>
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                    </svg>
                </button>
                </div>
                {% endfor %}
            {% endif %} 
            </div>
            <div class="xl:w-2/5 flex lg:flex-col flex-col-reverse md:w-1/2 lg:ml-8 md:ml-6 md:mt-0 mt-6">
            <div class='lg:py-0  py-10'>
                <div class="flex  lg:mt-4 lg:mt-12 justify-between item-center  py-2">
                    <div class="text-lg border-b   w-full border-gray-300 font-bold text-gray-500">Student Information</div>
                    <hr>
                    <div class="text-blue-600 pt-1  text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path fill="currentColor" d="M3.5 4A1.5 1.5 0 0 0 2 5.5v2A1.5 1.5 0 0 0 3.5 9h2A1.5 1.5 0 0 0 7 7.5v-2A1.5 1.5 0 0 0 5.5 4zM3 5.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5zM9.5 5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm-6 4A1.5 1.5 0 0 0 2 12.5v2A1.5 1.5 0 0 0 3.5 16h2A1.5 1.5 0 0 0 7 14.5v-2A1.5 1.5 0 0 0 5.5 11zM3 12.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5zm6.5-.5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1z"/></svg>
                    </div>
                </div>
                <div class="border-b border-gray-200 pb-6">
                    <p class="text-sm leading-none text-gray-600   ">Student</p>
                    <h1 class="lg:text-2xl text-xl font-semibold lg:leading-6 leading-7 text-gray-800   mt-2">{{ students.name }}</h1>
                </div>
                
                <div class="py-2 border-b border-gray-200 flex items-center justify-between">
                    <p class="text-base leading-4 text-gray-800  ">Age</p>
                    <div class="flex items-center justify-center">
                    <p class="text-xl font-bold leading-none text-gray-600   mr-3">
                        <p class="   text-sm mx-2">{{ students.get_age }}</p>
                        
                    </p>
                    <svg class="text-gray-300   cursor-pointer" width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 1L5 5L1 9" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    </div>
                </div>
                <div class="py-2 border-b border-gray-200 flex items-center justify-between">
                    <p class="text-base leading-4 text-gray-800  ">class</p>
                    <div class="flex items-center justify-center">
                    <p class="text-xl font-bold leading-none text-gray-600   mr-3">
                        <p class="   text-sm mx-2"> {{ students.students_class}} </p>
                    </p>
                    </div>
                </div>
                <div class="py-2 border-b border-gray-200 flex items-center justify-between">
                    <p class="text-base leading-4 text-gray-800  ">UPI Number</p>
                    <div class="flex items-center justify-center">
                    <p class="text-xl font-bold leading-none text-gray-600   mr-3">
                        <p class="   text-sm mx-2"> {{ students.npi }} </p>
                    </p>
                    </div>
                </div>
                <div class="py-2 border-b border-gray-200 flex items-center justify-between">
                    <p class="text-base leading-4 text-gray-800  ">Student Rating</p>
                    <div class="flex items-center justify-center">
                    <p class="text-sm leading-none text-gray-600  ">
                        <div class="flex items-center">
                        <svg
                            class="w-4 h-4 text-yellow-300 ms-1"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 22 20"
                        >
                            <path
                            d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
                            />
                        </svg>
                        <svg
                            class="w-4 h-4 text-yellow-300 ms-1"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 22 20"
                        >
                            <path
                            d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
                            />
                        </svg>
                        <svg
                            class="w-4 h-4 text-yellow-300 ms-1"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 22 20"
                        >
                            <path
                            d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
                            />
                        </svg>
                        <svg
                            class="w-4 h-4 text-yellow-300 ms-1"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 22 20"
                        >
                            <path
                            d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
                            />
                        </svg>
                        <svg
                            class="w-4 h-4 text-yellow-300 ms-1"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 22 20"
                        >
                            <path
                            d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
                            />
                        </svg>
                        </div>
                    </p>
                    
                    </div>
                </div>
                <br>
                <div class='flex gap-2 flex-row-reverse'>
                
                {% if students.is_active %}
                <a href=""class=" w-3/4 text-md rounded-xl   dark:hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800 text-base flex items-center justify-center leading-none text-blue-600 font-bold bg-transparent border border-blue-600 w-full py-1 hover:bg-blue-700 focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg"  class="w-5 mx-2 h-5" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="m8.185 1.083l-.558.004l-5.909 4.037l.004.828L7.63 9.915l.55.004l6.092-3.963l.003-.836zm-5.293 4.45l5.021-3.43l5.176 3.43l-5.176 3.368zm4.739 6.882L1.793 8.5h1.795l4.325 2.9l4.459-2.9h1.833l-.8.52a4 4 0 0 0-4.21 2.739l-1.013.66zm1.373.776l-1.09.71L3.587 11H1.793l5.838 3.915l.55.004l1.02-.663a4 4 0 0 1-.197-1.065m2.329-2.685a3 3 0 1 1 3.333 4.987a3 3 0 0 1-3.333-4.987m1.698 3.817l1.79-2.387l-.8-.6l-1.48 1.974l-.876-.7l-.624.78l1.278 1.023z" clip-rule="evenodd"/></svg>
                    Active
                </a>  
                {% else %}
                <a href=""class=" w-3/4 text-md rounded-xl   dark:hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800 text-base flex items-center justify-center leading-none text-blue-600 font-bold bg-transparent border border-blue-600 w-full py-1 hover:bg-blue-700 focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg"  class="w-5 mx-2 h-5" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="m8.185 1.083l-.558.004l-5.909 4.037l.004.828L7.63 9.915l.55.004l6.092-3.963l.003-.836zm-5.293 4.45l5.021-3.43l5.176 3.43l-5.176 3.368zm4.739 6.882L1.793 8.5h1.795l4.325 2.9l4.459-2.9h1.833l-.8.52a4 4 0 0 0-4.21 2.739l-1.013.66zm1.373.776l-1.09.71L3.587 11H1.793l5.838 3.915l.55.004l1.02-.663a4 4 0 0 1-.197-1.065m2.329-2.685a3 3 0 1 1 3.333 4.987a3 3 0 0 1-3.333-4.987m1.698 3.817l1.79-2.387l-.8-.6l-1.48 1.974l-.876-.7l-.624.78l1.278 1.023z" clip-rule="evenodd"/></svg>
                        In-active
                    </a>  
                {% endif %}      
                <div class="w-1/4 flex item-center justify-center">
                    <a href=""
                    class="dark:bg-blue-200 lg:text-sm  lg:font-bold text-xs py-3  border border-blue-600 w-3/4 rounded-xl dark:text-blue-600 dark:hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800 text-purple-600 flex items-center justify-center leading-none hover:text-white  hover:bg-purple-600 w-full py-2 hover:bg-blue-700 focus:outline-none"
                    >
                    
                    <div class="">In session</div>
                    </a>
                </div>
                </div>
            </div>
            
            
            <div class=' my-2'>
                <div class="flex  lg:mt-4 lg:mt-12 justify-between item-center  py-2">
                    <div class="text-lg border-b    w-full border-gray-300 font-bold text-gray-900">School Fee Status</div>
                    <hr>
                    <div class="text-blue-600 pt-1  text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path fill="currentColor" d="M3.5 4A1.5 1.5 0 0 0 2 5.5v2A1.5 1.5 0 0 0 3.5 9h2A1.5 1.5 0 0 0 7 7.5v-2A1.5 1.5 0 0 0 5.5 4zM3 5.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5zM9.5 5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm-6 4A1.5 1.5 0 0 0 2 12.5v2A1.5 1.5 0 0 0 3.5 16h2A1.5 1.5 0 0 0 7 14.5v-2A1.5 1.5 0 0 0 5.5 11zM3 12.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5zm6.5-.5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1z"/></svg>
                    </div>
                </div>
                <div class='flex justify-between'>
                    <p  class='font-bold lg:text-xl'> {{ term.name }} </p> 
                    <p  class='font-bold lg:text-xl'>  {{ term.term.year }} </p> 
                </div>
                <div class='flex text-gray-600 items-center justify-between'>
                    <p  class='font-bold lg:text-xl'>Status </p> 
                    {% if payments.is_active %}
                    <p  class='font-bold text-sm my-2 bg-red-600 text-white px-6 py-2 rounded-xl'> UnPaid </p> 
                    {% else %}
                    <p  class='font-bold text-sm my-2 bg-green-600 text-white px-6 py-2 rounded-xl'> Paid </p> 
                    {% endif %}
                </div>
                <br>
                <div class="text-lg border-b    w-full border-gray-300 font-bold text-gray-900">Account Balances {{ total_fee }}</div>
                <hr>
                {% if payments.is_active %}
                <p  class="text-sm text-gray-500 my-2 mb-8 ">
                    You can pay for boarding, tuition fee and everything that is necessary to ensure a smooth experience when paying for school fees
                </p>
                {% else %}
                <p  class="text-sm text-gray-500 my-2 mb-8 ">
                    You have Ksh 0.00 Balance
                </p>               
                {% endif %}

                {% if payments.is_active %}
                
                <a href="{% url 'core:payment' %}"class=" w-3/4 text-lg lg:py-3 py-3 rounded-xl   dark:hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800 text-base flex items-center justify-center leading-none text-white bg-blue-600 w-full py-1 hover:bg-blue-700 focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 mx-2 h-5" viewBox="0 0 20 20"><path fill="currentColor" d="M11.67 8.537a.3.3 0 0 0-.302.296v2.212a.3.3 0 0 0 .303.296h6.663a.3.3 0 0 0 .303-.296V8.833a.3.3 0 0 0-.303-.296zm4.086-7.036c.922.044 1.585.226 2.005.612c.415.382.628.935.67 1.667v2.097a.674.674 0 0 1-.681.666a.674.674 0 0 1-.682-.666l.001-2.059c-.022-.38-.113-.616-.243-.736c-.126-.116-.51-.22-1.103-.25H2.647c-.537.02-.886.122-1.055.267c-.13.111-.228.417-.229.946l-.003 11.77c.05.514.163.857.308 1.028c.11.13.451.26.953.324h13.116c.614.012.976-.08 1.098-.203c.135-.137.233-.497.233-1.086v-2.045c0-.367.305-.666.682-.666c.376 0 .681.299.681.666v2.045c0 .9-.184 1.573-.615 2.01c-.444.45-1.15.63-2.093.61L2.54 18.495c-.897-.104-1.54-.35-1.923-.803c-.347-.41-.54-.995-.617-1.813V4.044c.002-.876.212-1.535.694-1.947c.442-.38 1.08-.565 1.927-.597zm2.578 5.704c.92 0 1.666.729 1.666 1.628v2.212c0 .899-.746 1.628-1.666 1.628h-6.663c-.92 0-1.666-.73-1.666-1.628V8.833c0-.899.746-1.628 1.666-1.628zm-4.997 1.94c-.46 0-.833.36-.833.803c0 .444.373.803.833.803c.46 0 .833-.36.833-.803c0-.444-.373-.804-.833-.804"/></svg>
                    Click Here to Pay
                </a>
                {% else %}
                <a href="{% url 'core:payment-history' %}"class=" w-3/4 text-lg lg:py-3 py-3 rounded-xl   dark:hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800 text-base flex items-center justify-center leading-none text-white bg-green-600 w-full py-1 hover:bg-green-700 focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 mx-2 h-5" viewBox="0 0 20 20"><path fill="currentColor" d="M11.67 8.537a.3.3 0 0 0-.302.296v2.212a.3.3 0 0 0 .303.296h6.663a.3.3 0 0 0 .303-.296V8.833a.3.3 0 0 0-.303-.296zm4.086-7.036c.922.044 1.585.226 2.005.612c.415.382.628.935.67 1.667v2.097a.674.674 0 0 1-.681.666a.674.674 0 0 1-.682-.666l.001-2.059c-.022-.38-.113-.616-.243-.736c-.126-.116-.51-.22-1.103-.25H2.647c-.537.02-.886.122-1.055.267c-.13.111-.228.417-.229.946l-.003 11.77c.05.514.163.857.308 1.028c.11.13.451.26.953.324h13.116c.614.012.976-.08 1.098-.203c.135-.137.233-.497.233-1.086v-2.045c0-.367.305-.666.682-.666c.376 0 .681.299.681.666v2.045c0 .9-.184 1.573-.615 2.01c-.444.45-1.15.63-2.093.61L2.54 18.495c-.897-.104-1.54-.35-1.923-.803c-.347-.41-.54-.995-.617-1.813V4.044c.002-.876.212-1.535.694-1.947c.442-.38 1.08-.565 1.927-.597zm2.578 5.704c.92 0 1.666.729 1.666 1.628v2.212c0 .899-.746 1.628-1.666 1.628h-6.663c-.92 0-1.666-.73-1.666-1.628V8.833c0-.899.746-1.628 1.666-1.628zm-4.997 1.94c-.46 0-.833.36-.833.803c0 .444.373.803.833.803c.46 0 .833-.36.833-.803c0-.444-.373-.804-.833-.804"/></svg>
                    View Payment History
                </a> 
                {% endif %}
                <div>
                    <div class="border-b py-2 border-gray-200">
                    <div data-menu class="flex flex-col cursor-pointer">
                        <p class="text-xs leading-4 text-gray-500">Payments made through the platform are subjected</p>
                        <p class="text-xs leading-4 text-gray-500">to a Ksh 30 Service fee</p>
                        <p class="text-xs leading-4 text-gray-500">For application maintainance</p>                    
                    </div>
                    <div class="hidden pt-4 text-base leading-normal pr-12 mt-4 text-gray-600  " id="sect">If you have any questions on how to return your item to us, contact us. +254729 095 184</div>
                    </div>
                </div>
            </div>
            
            
        </div>
      </div>        
</div>




{% endblock content %}
